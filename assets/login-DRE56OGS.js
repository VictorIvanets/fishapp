import{a as x,b as j,u as b,r as o,j as s,L as v,c as w,g as E}from"./index-D-HU46dd.js";function L(){const r=x(),n=j(),{login:i,jwt:l,loginErrorMass:t}=b(e=>e.user),[p,c]=o.useState(!1),[h,u]=o.useState("");o.useEffect(()=>{t==="Request failed with status code 401"&&u("невірний логін або пароль"),t==="Network Error"&&u("сервер не відповідає"),l&&r(`/main/${i}`)},[l,r,i,t]);const m=async e=>{e.preventDefault(),n(w.clearLoginError());const a=e.target,{login:g,password:d}=a;g.value.length>2&&d.value.length>2?(c(!1),await f(g.value,d.value)):c(!0)},f=async(e,a)=>{n(E({login:e,password:a}))};return s.jsxs("div",{className:"loginpage",children:[s.jsx("h2",{className:"roboto-thin colorLight",children:" вхід "}),s.jsxs("form",{onSubmit:m,children:[s.jsx("input",{name:"login",id:"login",placeholder:"login",type:"text"}),s.jsx("input",{name:"password",type:"password",id:"password",placeholder:"password"}),t?s.jsx("p",{className:"margin1 active roboto-bold",children:h}):"",p?s.jsx("p",{className:"margin1 active roboto-bold",children:"заповніть всі поля"}):"",s.jsx("button",{children:"Вхід"})]}),s.jsx(v,{className:"light roboto-regular",to:"/register",children:"зареєструйтеся"})]})}export{L as default};
